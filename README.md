# Лабораториска вежба 3 – Авторизација и Just-In-Time пристап

## 1. Опис на функционалности
Оваа лабораториска вежба има за цел да обезбеди **корисничка авторизација** и **контрола на пристап базирана на улоги (RBAC)** во веб апликација, со поддршка за **Just-In-Time (JIT) пристап** до ресурси. Решението е надградба на апликацијата од претходната лабораториска вежба.

Системот овозможува:
- дефинирање и менаџирање на улоги
- контрола на пристап според улоги
- привремено (временски ограничено) доделување привилегии
- автоматско одземање на пристап по истек на времето

---

## 2. Авторизација
Апликацијата имплементира **авторизација на корисници**, каде што пристапот до одредени делови и функционалности е дозволен или одбиен врз основа на улогата на корисникот.

Секој корисник мора да биде најавен (валидна сесија) за да пристапи до системот. По најавата, системот ја проверува улогата на корисникот и врши соодветна контрола на пристап.

---

## 3. Улоги во системот
Во апликацијата се дефинирани **два типа на улоги**:

### 3.1 Организациски улоги (Organization-level roles)
Организациските улоги важат на ниво на целата апликација и дефинираат основни привилегии според позицијата на корисникот.

Хиерархија на организациски улоги:
- **ADMIN** – целосен пристап до апликацијата и можност за менаџирање на корисници и улоги
- **EMPLOYEE** – проширен пристап до ресурси
- **INTERN** – ограничен пристап (основни ресурси)

Овие улоги служат за стандардизација на пристапот и намалување на индивидуално доделување привилегии.

---

### 3.2 Улоги специфични за ресурси (Resource-specific roles)
Ресурсните улоги се дефинирани за конкретни ресурси и имаат прецизно ограничени дозволи, согласно принципот **least privilege**.

Примери за ресурсни улоги:
- `DB_READER`
- `DB_WRITER`
- `FILE_UPLOADER`
- `FILE_DOWNLOADER`

Овие улоги не се доделуваат трајно, туку преку **Just-In-Time механизам**.

---

## 4. Контрола на пристап (Role-Based Access Control)
Контролата на пристап се врши во две фази:
1. **Проверка на организациска улога** – одредува кои ресурси корисникот смее да ги побара
2. **Проверка на ресурсна улога** – проверка дали корисникот има активен пристап до конкретниот ресурс

Доколку корисникот нема соодветна улога, пристапот се одбива.

---

## 5. Just-In-Time (JIT) пристап
Just-In-Time пристапот овозможува корисниците да добијат пристап до ресурси **само кога им е потребен** и **само за ограничен временски период**.

<img width="1820" height="723" alt="Screenshot 2025-12-18 223114" src="https://github.com/user-attachments/assets/1c3e1ff7-c9ef-40bf-bbcc-fb7eccdcd3dd" />

### Основни карактеристики:
- ресурсните улоги се доделуваат со временски лимит
- по истекот на времето, пристапот автоматски се одзема
- нема потреба од рачна интервенција

### JIT flow:
1. Корисникот испраќа барање за ресурс
2. Системот врши евалуација според дефинирани полиси
3. Доколку е дозволено, се доделува привремен пристап
4. По истек на времето, пристапот автоматски се отповикува

---

## 6. Привремени организациски улоги
Покрај ресурсните улоги, системот поддржува и **привремена промена на организациска улога**.

<img width="1181" height="387" alt="Screenshot 2025-12-18 223048" src="https://github.com/user-attachments/assets/df59b249-8c5f-4233-8df4-405bb9ea16f4" />

Пример:
- ADMIN може привремено да го промени корисникот од `INTERN` во `EMPLOYEE`
- По истекот на дефинираното време, корисникот автоматски се враќа на својата **дифолт улога (INTERN)**


Ова дополнително ја зголемува безбедноста и го намалува ризикот од трајни привилегии.

---

## 7. Доделување улоги и тестирање
Во рамки на вежбата се тестирани следните сценарија:
- INTERN корисник кој бара привремен пристап до дозволен ресурс
- EMPLOYEE корисник со проширени дозволи
- ADMIN кој доделува организациска улога
- автоматско истекување и одземање на ресурсна улога
- враќање на организациска улога по истек

Секое барање за пристап се валидира во реално време.


